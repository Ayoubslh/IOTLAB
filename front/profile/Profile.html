<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Profile</title>
  <link rel="stylesheet" href="./Profile.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-alpha1/dist/css/bootstrap.min.css">
</head>
<body>
<div class="container rounded bg-white mt-5 mb-5">
  <div class="row">
    <div class="col-md-3 border-right">
      <div class="d-flex flex-column align-items-center text-center p-3 py-5">
        <img class="rounded-circle mt-5" width="150px" src="https://st3.depositphotos.com/15648834/17930/v/600/depositphotos_179308454-stock-illustration-unknown-person-silhouette-glasses-profile.jpg">
        <span class="font-weight-bold" id="profile-name">Loading...</span>
        <span class="text-black-50" id="profile-email">Loading...</span>
        <span id="profile-status">Loading...</span>
      </div>
    </div>
    <div class="col-md-9 border-right">
      <div class="p-3 py-5">
        <h4 class="text-right">Profile Information</h4>
        <div class="row mt-3">
          <div class="col-md-6"><label class="labels">Name</label><input type="text" class="form-control" id="first-name" placeholder="First Name"></div>
          <div class="col-md-6"><label class="labels">Surname</label><input type="text" class="form-control" id="last-name" placeholder="Last Name"></div>
        </div>
        <div class="row mt-3">
          <div class="col-md-12"><label class="labels">Email</label><input type="text" class="form-control" id="email" placeholder="Email"></div>
          <div class="col-md-12"><label class="labels">Phone Number</label><input type="text" class="form-control" id="phone" placeholder="Phone Number"></div>
          <div class="col-md-12"><label class="labels">Verification Status</label><input type="text" class="form-control" id="status" placeholder="Verification Status"></div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  async function loadStudentProfile() {
    try {
      const response = await fetch("http://localhost:5000/students/1"); // Replace '1' with actual student ID
      if (!response.ok) throw new Error("Failed to fetch student");

      const student = await response.json();

      // Update profile details
      document.getElementById("profile-name").textContent = `${student.FirstName} ${student.LastName}`;
      document.getElementById("profile-email").textContent = student.Email;
      document.getElementById("profile-status").textContent = student.isVerified ? "Verified" : "Not Verified";

      // Update form fields
      document.getElementById("first-name").value = student.FirstName;
      document.getElementById("last-name").value = student.LastName;
      document.getElementById("email").value = student.Email;
      document.getElementById("phone").value = student.Phone;
      document.getElementById("status").value = student.isVerified ? "Verified" : "Not Verified";
    } catch (error) {
      console.error("Error loading profile:", error);
    }
  }

  loadStudentProfile();
</script>
</body>
</html>
